package acme.critical.module.misc;

import net.minecraft.entity.LivingEntity;

import acme.critical.module.Mod;

public class KillFX extends Mod {
	private static int killstreak = 0;
	private static int killstreakTimer = 0;
	private static boolean killFXEnabled = false;

	public KillFX() {
		super("KillFX", "Play sound effects on kill.", Category.MISC);
		get = this;
	}

	public static int getKillstreak() {
		return killstreak;
	}

	public void onTick() {
		killstreakTimer++;
		if (killstreakTimer > 5*20)
			killstreakTimer = 0;

		super.onTick();
	}

	@Override
	public void onEnable() {
		killFXEnabled = true;
	}

	@Override
	public void onDisable() {
		killFXEnabled = false;
		killstreak = 0;
		killstreakTimer = 0;
	}

	// called in PlayerEntityMixin
	public static void onKill(LivingEntity entity) {
		/*if (!killFXEnabled)
			return;*/
		killstreak++;
		killstreakTimer = 0;
	}

	public static KillFX get;
}
